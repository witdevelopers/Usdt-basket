<div class="card">
  <div class="card-head">
    <header>Deposit Details</header>
  </div>
  <div class="card-body">
    <form [formGroup]="incomeForm" (ngSubmit)="fetchIncomeData()">

      <!-- Show User ID input only if Admin -->
      <div class="form-group mb-3" *ngIf="isAdmin">
        <label>User ID:</label>
        <input type="text" class="form-control" formControlName="userID" />
      </div>

      <div class="form-group mb-3">
        <label>From Date:</label>
        <input type="date" class="form-control" formControlName="fromDate" />
      </div>

      <div class="form-group mb-3">
        <label>To Date:</label>
        <input type="date" class="form-control" formControlName="toDate" />
      </div>

      <button type="submit" class="btn btn-primary w-100">Fetch</button>
    </form>
  </div>
</div>



<!-- Income Data Table -->
<div class="table-responsive mt-4" *ngIf="incomeData.length">
  <table class="table table-bordered table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Sr.no</th>
        <th>User ID</th>
        <th>Level Address</th>
        <th>Final Amount</th>
        <th>Request ID</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of incomeData; let i = index">
        <td>{{ item.srno }}</td>
        <td>{{ item.userID}}</td>
        <td>{{ item.leveladddress }}</td>
        <td>{{ item.finalamount }}</td>
        <td>{{ item.requestID }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div style="color: white;" *ngIf="!statusFlag" class=" mt-3 text-center">
  {{ statusMessage }}
</div>
