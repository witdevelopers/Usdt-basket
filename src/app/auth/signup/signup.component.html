<div class="main-parent-div">
  <div class="right-side">
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
      <div style="display: flex; justify-content: center;align-items: center;">
        <img routerLink="/home" style="height: 150px; width: 150px;" src="assets/images/logo.png" alt="Company Logo" />
      </div>

      <h2>Create an Account</h2>

      <div *ngIf="isPaidRegistration">
        <!-- Pin Number -->
        <label for="pinnumber">Pin Number</label>
        <input type="text" id="pinnumber" placeholder=" Pin Number" formControlName="pinnumber"
          class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('pinnumber')?.invalid }" />
        <div *ngIf="isSubmitted && signupForm.get('pinnumber')?.invalid" class="text-danger">
          Pin Number is required.
        </div>

        <!-- Pin Password -->
        <label for="pinpassword">Pin Password</label>
        <input type="text" id="pinpassword" placeholder="Pin Password" formControlName="pinpassword"
          class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('pinpassword')?.invalid }"  (change)="validatePin()" />
        <div *ngIf="isSubmitted && signupForm.get('pinpassword')?.invalid" class="text-danger">
          Pin Password is required.
        </div>

        <!-- Pin Type -->
        <label for="pintype">Pin Type</label>
        <input type="text" id="pintype" placeholder="Check Pin Type" formControlName="pintype" class="form-control"
          readonly />
      </div>

      <!-- Referral ID -->
      <label for="ReferalId">Referral ID</label>
      <input type="text" id="ReferalId" placeholder="Referral ID" formControlName="ReferalId" class="form-control"
        [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('ReferalId')?.invalid }"
        (blur)="validateSponsor(signupForm.get('ReferalId')?.value)" />
      <div *ngIf="isSubmitted && signupForm.get('ReferalId')?.invalid" class="text-danger">
        Referral ID is required.
      </div>

      <!-- Referral Name -->
      <label for="ReferalName">Referral Name</label>
      <input type="text" id="ReferalName" placeholder="Referral Name" formControlName="ReferalName" class="form-control"
        readonly />

      <!-- UserId -->
      <label *ngIf="isVisible" for="userid">User ID</label>
      <input *ngIf="isVisible" type="text" id="userid" placeholder="User ID" formControlName="userId" class="form-control"
        [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('userId')?.invalid }" />
      <div *ngIf="isSubmitted && signupForm.get('userId')?.invalid" class="text-danger">
        User ID is required.
      </div>

      <!-- Name -->
      <label for="name">Name</label>
      <input type="text" id="name" placeholder="Name" formControlName="name" class="form-control"
        [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('name')?.invalid }" />
      <div *ngIf="isSubmitted && signupForm.get('name')?.invalid" class="text-danger">
        Name is required.
      </div>

      <!-- Mobile Number -->
      <label for="mobile">Mobile Number</label>
      <input type="number" id="mobile" placeholder="Mobile Number" formControlName="mobile" class="form-control"
        [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('mobile')?.invalid }" />
      <div *ngIf="isSubmitted && signupForm.get('mobile')?.invalid" class="text-danger">
        Mobile Number is required and must be 10 digits.
      </div>

      <label *ngIf="isVisible" for="email">Email</label>
      <input *ngIf="isVisible" type="email" id="email" placeholder="Email" formControlName="email" class="form-control"
        [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('email')?.invalid }" />
      <div *ngIf="isSubmitted && signupForm.get('email')?.invalid" class="text-danger">
        <div *ngIf="signupForm.get('email')?.errors?.['required']">
          Email is required.
        </div>
        <div *ngIf="signupForm.get('email')?.errors?.['email']">
          Please enter a valid email address.
        </div>
      </div>


      <!-- Pancard -->
      <!-- <label for="pannumber">Pancard</label>
      <input
        type="text"
        id="pannumber"
        placeholder="Enter Pancard"
        formControlName="pannumber"
        class="form-control"
       
      />

      <label for="txtBankName">Aadhar Card Number</label>
      <input
        type="text"
        id="txtBankName"
        placeholder="Aadhar Card Number"
        formControlName="txtBankName"
        class="form-control"
      /> -->

      <!-- Branch Name Field (Optional) -->

      <!-- <label for="txtBranchName">Passport Number</label>
      <input
        type="text"
        id="txtBranchName"
        placeholder="Enter Passport Number"
        formControlName="txtBranchName"
        class="form-control"
      /> -->


      <!-- Password -->
      <label for="password">Password</label>
      <div class="input-group">
        <input [type]="isPasswordVisible ? 'text' : 'password'" id="password" placeholder="Password"
          formControlName="password" class="form-control" autocomplete="new-password"
          [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('password')?.invalid }" />
        <span class="input-group-append" (click)="togglePasswordVisibility()">
          <mat-icon>{{ isPasswordVisible ? 'visibility_off' : 'visibility' }}</mat-icon>
        </span>

        <!-- Eye icon for toggling password visibility -->

      </div>

      <div *ngIf="isSubmitted && signupForm.get('password')?.invalid" class="text-danger">
        Password is required.
      </div>

      <!-- Confirm Password -->
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" id="confirmPassword" placeholder="Confirm Password" formControlName="confirmPassword"
        class="form-control" [ngClass]="{ 'is-invalid': isSubmitted && signupForm.get('confirmPassword')?.invalid }" />
      <div *ngIf="isSubmitted && signupForm.get('confirmPassword')?.invalid" class="text-danger">
        Confirm Password is required.
      </div>

      <!-- Display mismatch error -->
      <small *ngIf="signupForm.hasError('mismatch') && isSubmitted" class="text-danger validation-message">
        Passwords do not match.
      </small>

      <!-- Submit Button -->
      <button type="submit" class="login-btn">
        Sign Up
      </button>

      <!-- Sign In Link -->
      <div class="links">
        <a routerLink="/signin" class="login-link">Already have an account? Sign In</a>
      </div>
    </form>
  </div>
</div>